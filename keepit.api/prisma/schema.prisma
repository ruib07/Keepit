generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id           String      @id @default(uuid())
  name         String
  email        String      @unique
  department   String
  createdAt    DateTime    @default(now())
  password     String
  assignedLogs Equipment[] @relation("AdminAssignments")
  equipments   Equipment[] @relation("UserEquipments")
}

model Equipment {
  id           String          @id @default(uuid())
  name         String
  category     String
  serialNumber String          @unique
  status       EquipmentStatus @default(AVAILABLE)
  purchaseDate DateTime        @default(now())
  price        Float
  createdAt    DateTime        @default(now())
  updatedAt    DateTime        @updatedAt
  assignedToId String?
  assignedById String?
  assignedBy   User?           @relation("AdminAssignments", fields: [assignedById], references: [id])
  user         User?           @relation("UserEquipments", fields: [assignedToId], references: [id])
}

enum EquipmentStatus {
  AVAILABLE
  ASSIGNED
  MAINTENANCE
  RETIRED
}
